<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <script>
    // --- LỚP CHA (CAR) ---
    const Car = function (make, speed) {
      this.make = make;
      this.speed = speed;
    };

    Car.prototype.brake = function () {
      this.speed -= 5;
      console.log(`${this.make} đang chạy chậm lại: ${this.speed} km/h`);
    };

    // --- LỚP CON (EV) ---
    // 1. Khởi tạo Constructor EV
    const EV = function (make, speed, charge) {
      // Kế thừa các thuộc tính từ Car
      Car.call(this, make, speed);
      this.charge = charge;
    };

    // 2. Thiết lập kế thừa Prototype (EV kế thừa từ Car)
    EV.prototype = Object.create(Car.prototype);

    // 3. Phương thức chargeBattery
    EV.prototype.chargeBattery = function (chargeTo) {
      this.charge = chargeTo;
      console.log(`${this.make} đã sạc pin lên: ${this.charge}%`);
    };

    // 4. Phương thức accelerate (Định nghĩa lại - Polymorphism)
    EV.prototype.accelerate = function () {
      this.speed += 20;
      this.charge--;
      console.log(
        `${this.make} đang chạy với tốc độ ${this.speed} km/h, pin còn lại: ${this.charge}%`
      );
    };

    EV.prototype.constructor = EV;

    const tesla = new EV('Tesla', 120, 23);

    console.log('--- Trạng thái ban đầu ---');
    console.log(tesla);

    console.log('--- Thử nghiệm các phương thức ---');
    tesla.chargeBattery(90);  
    tesla.accelerate();       
    tesla.brake();            
    tesla.accelerate();       
  </script>
</body>

</html>